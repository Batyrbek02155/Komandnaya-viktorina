const MAX_LEVEL = 10;
let lvlA = 0, lvlB = 0;
let finished = false;

let indexA = 0, indexB = 0;
let poolA = [], poolB = [];
let originalQuestions = [];

function shuffle(arr){
  return arr.sort(() => Math.random() - 0.5);
}

const QUESTIONS = {
ru:[
 {q:"–°–∫–æ–ª—å–∫–æ –ø–∞–¥–µ–∂–µ–π –≤ —Ä—É—Å—Ås–∫–æ–º —è–∑—ã–∫–µ?",o:["5","6","7","8"],c:1},
 {q:"–ö–∞–∫–∞—è —á–∞—Å—Ç—å —Ä–µ—á–∏ —É —Å–ª–æ–≤–∞ ¬´—á–∏—Ç–∞—è¬ª?",o:["–ì–ª–∞–≥–æ–ª","–ü—Ä–∏—á–∞—Å—Ç–∏–µ","–î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏–µ","–ù–∞—Ä–µ—á–∏–µ"],c:2},
 {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–Ω–æ–Ω–∏–º–æ–º —Å–ª–æ–≤–∞ ¬´—Å–º–µ–ª—ã–π¬ª?",o:["–¢—Ä—É—Å–ª–∏–≤—ã–π","–•—Ä–∞–±—Ä—ã–π","–¢–∏—Ö–∏–π","–û—Å—Ç–æ—Ä–æ–∂–Ω—ã–π"],c:1},
 {q:"–í –∫–∞–∫–æ–º —Å–ª–æ–≤–µ –ø–∏—à–µ—Ç—Å—è –ù–ù?",o:["–í–µ—Ç—Ä–µ(–Ω)—ã–π","–°–µ—Ä–µ–±—Ä—è(–Ω)—ã–π","–ì–ª–∏–Ω—è(–Ω)—ã–π","–Æ(–Ω)—ã–π"],c:1},
 {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º?",o:["–ë–µ–∂–∞—Ç—å","–ö—Ä–∞—Å–∏–≤—ã–π","–°—Ç–æ–ª","–ë—ã—Å—Ç—Ä–æ"],c:2},
 {q:"–°–∫–æ–ª—å–∫–æ –±—É–∫–≤ –≤ —Ä—É—Å—Å–∫–æ–º –∞–ª—Ñ–∞–≤–∏—Ç–µ?",o:["31","32","33","34"],c:2},
 {q:"–ö–∞–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–µ?",o:["–°–≤–µ—Ç–∏—Ç —Å–æ–ª–Ω—Ü–µ","–ü–æ—à—ë–ª –¥–æ–∂–¥—å, –∏ –º—ã —É—à–ª–∏","–Ø –ª—é–±–ª—é —á–∏—Ç–∞—Ç—å","–ù–∞—Å—Ç—É–ø–∏–ª–∞ –Ω–æ—á—å"],c:1},
 {q:"–ö–∞–∫–æ–π —Å–æ—é–∑ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ç–∏–≤–∏—Ç–µ–ª—å–Ω—ã–º?",o:["–ò","–ò–ª–∏","–ù–æ","–ß—Ç–æ–±—ã"],c:2},
 {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –ø–∏—à–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å?",o:["–ü–æ –Ω–æ–≤–æ–º—É","–ü–æ —Ä—É—Å—Å–∫–∏","–ü–æ—Ä—É—Å—Å–∫–∏","–ü–æ-—Ä—É—Å—Å–∫–∏"],c:3},
 {q:"–ê–Ω—Ç–æ–Ω–∏–º —Å–ª–æ–≤–∞ ¬´—à–∏—Ä–æ–∫–∏–π¬ª",o:["–ë–æ–ª—å—à–æ–π","–£–∑–∫–∏–π","–î–ª–∏–Ω–Ω—ã–π","–ì–ª—É–±–æ–∫–∏–π"],c:1},
 {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ —è–≤–ª—è–µ—Ç—Å—è –≥–ª–∞–≥–æ–ª–æ–º?",o:["–ë–µ–≥–∞—Ç—å","–ë–µ–≥","–ë–µ–≥—É—â–∏–π","–ë—ã—Å—Ç—Ä–æ"],c:0},
 {q:"–ö–∞–∫–æ–π —Å—Ç–∏–ª—å —Ä–µ—á–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–∫–æ–Ω–∞—Ö?",o:["–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π","–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π","–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ-–¥–µ–ª–æ–≤–æ–π","–ü—É–±–ª–∏—Ü–∏—Å—Ç–∏—á–µ—Å–∫–∏–π"],c:2},
 {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ—Ä–µ–Ω—å —Å–ª–æ–≤–∞?",o:["–ß–∞—Å—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏—è","–ì–ª–∞–≤–Ω–∞—è –∑–Ω–∞—á–∏–º–∞—è —á–∞—Å—Ç—å","–ü—Ä–∏—Å—Ç–∞–≤–∫–∞","–°—É—Ñ—Ñ–∏–∫—Å"],c:1},
 {q:"–í –∫–∞–∫–æ–º —Å–ª–æ–≤–µ –ù–ï –ø–∏—à–µ—Ç—Å—è —Å–ª–∏—Ç–Ω–æ?",o:["(–Ω–µ)–¥—Ä—É–≥","(–Ω–µ)–≤–µ–∂–ª–∏–≤—ã–π","(–Ω–µ)–±—ã–ª","(–Ω–µ)–ø—Ä–∞–≤–¥–∞"],c:2},
 {q:"–ö–∞–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º?",o:["–Ø —á–∏—Ç–∞—é –∫–Ω–∏–≥—É","–ö–∞–∫ –∫—Ä–∞—Å–∏–≤–æ –≤–æ–∫—Ä—É–≥","–ì–¥–µ —Ç—ã –∂–∏–≤—ë—à—å?","–ü—É—Å—Ç—å –±—É–¥–µ—Ç —Ç–∞–∫"],c:2}
],

en:[
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —Å–ª–æ–≤–æ ¬´environment¬ª?",o:["–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ","–û–∫—Ä—É–∂–µ–Ω–∏–µ","–†–∞–∑–≤–∏—Ç–∏–µ","–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ"],c:1},
 {q:"–ö–∞–∫–æ–π –≥–ª–∞–≥–æ–ª —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º?",o:["Play","Walk","Go","Open"],c:2},
 {q:"–§–æ—Ä–º–∞ –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–ª–æ–≤–∞ ¬´see¬ª",o:["Seed","Saw","Seen","See"],c:1},
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è ¬´decision¬ª?",o:["–†–µ—à–µ–Ω–∏–µ","–û–±—Å—É–∂–¥–µ–Ω–∏–µ","–ó–∞–¥–∞–Ω–∏–µ","–û—Ç–≤–µ—Ç"],c:0},
 {q:"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: She ___ happy",o:["are","am","is","be"],c:2},
 {q:"–ö–∞–∫–æ–π –∞—Ä—Ç–∏–∫–ª—å —Å—Ç–∞–≤–∏—Ç—Å—è –ø–µ—Ä–µ–¥ –≥–ª–∞—Å–Ω—ã–º –∑–≤—É–∫–æ–º?",o:["A","An","The","‚Äî"],c:1},
 {q:"–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ —Å–ª–æ–≤–∞ ¬´child¬ª",o:["Childs","Childes","Children","Child"],c:2},
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è ¬´although¬ª?",o:["–ü–æ—Ç–æ–º—É —á—Ç–æ","–•–æ—Ç—è","–ï—Å–ª–∏","–ö–æ–≥–¥–∞"],c:1},
 {q:"–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–º?",o:["Quickly","Quick","Quickness","Quicken"],c:1},
 {q:"–§–æ—Ä–º–∞ –±—É–¥—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏",o:["Did","Has","Will","Was"],c:2},
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è ¬´knowledge¬ª?",o:["–ó–Ω–∞–Ω–∏–µ","–ù–∞–≤—ã–∫","–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è","–û–ø—ã—Ç"],c:0},
 {q:"–ö–∞–∫–æ–π –ø—Ä–µ–¥–ª–æ–≥ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´–º–µ–∂–¥—É¬ª?",o:["Among","Between","Behind","Beside"],c:1},
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è ¬´important¬ª?",o:["–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π","–í–∞–∂–Ω—ã–π","–°–ª–æ–∂–Ω—ã–π","–û–ø–∞—Å–Ω—ã–π"],c:1},
 {q:"–ö–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –∑–∞–¥–∞—ë—Ç—Å—è –≤ Present Simple?",o:["What are you doing?","Did you go?","Do you like?","Have you done?"],c:2},
 {q:"–ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è ¬´improve¬ª?",o:["–£—Ö—É–¥—à–∞—Ç—å","–ú–µ–Ω—è—Ç—å","–£–ª—É—á—à–∞—Ç—å","–ò—Å–ø—Ä–∞–≤–ª—è—Ç—å"],c:2}
],

math:[
 {q:"7 √ó 9 =",o:["56","63","72","81"],c:1},
 {q:"15 + 27 =",o:["32","40","42","45"],c:2},
 {q:"36 √∑ 6 =",o:["5","6","7","8"],c:1},
 {q:"–ö–≤–∞–¥—Ä–∞—Ç —á–∏—Å–ª–∞ 8",o:["16","32","64","128"],c:2},
 {q:"–ü–µ—Ä–∏–º–µ—Ç—Ä –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π 5",o:["10","15","20","25"],c:2},
 {q:"50% –æ—Ç 80",o:["20","30","40","50"],c:2},
 {q:"–†–µ—à–∏—Ç–µ: x + 7 = 12",o:["3","5","7","12"],c:1},
 {q:"–ù–∞–∏–º–µ–Ω—å—à–µ–µ –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ",o:["0","1","2","3"],c:2},
 {q:"|‚àí9| =",o:["-9","0","9","18"],c:2},
 {q:"10¬≤ =",o:["20","100","200","1000"],c:1},
 {q:"–î—Ä–æ–±—å 1/2 —Ä–∞–≤–Ω–∞",o:["0.2","0.25","0.5","1.5"],c:2},
 {q:"–°—É–º–º–∞ —É–≥–ª–æ–≤ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞",o:["90¬∞","180¬∞","270¬∞","360¬∞"],c:1},
 {q:"6 √ó (4 + 2) =",o:["24","30","36","42"],c:2},
 {q:"–ß—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ",o:["15","27","42","55"],c:2},
 {q:"–ö–æ—Ä–µ–Ω—å –∏–∑ 49",o:["6","7","8","9"],c:1}
],

cs:[
 {q:"HTML ‚Äî —ç—Ç–æ",o:["–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è","–Ø–∑—ã–∫ —Ä–∞–∑–º–µ—Ç–∫–∏","–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞","–ë—Ä–∞—É–∑–µ—Ä"],c:1},
 {q:"CSS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è",o:["–õ–æ–≥–∏–∫–∏","–°—Ç–∏–ª–∏–∑–∞—Ü–∏–∏","–•—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö","–°–µ—Ä–≤–µ—Ä–æ–≤"],c:1},
 {q:"JavaScript –Ω—É–∂–µ–Ω –¥–ª—è",o:["–î–∏–∑–∞–π–Ω–∞","–°–æ–∑–¥–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏","–†–∞–∑–º–µ—Ç–∫–∏","–¢–∞–±–ª–∏—Ü"],c:1},
 {q:"–ö–∞–∫–æ–π —Ç–µ–≥ —Å–æ–∑–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É?",o:["<link>","<a>","<href>","<url>"],c:1},
 {q:"–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å CSS —Ñ–∞–π–ª?",o:["<style>","<css>","<link>","<script>"],c:2},
 {q:"–ö–∞–∫–æ–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏–π?",o:["–°—Ç—Ä–æ–∫–∞","–ß–∏—Å–ª–æ","–ë—É–ª–µ–≤—ã–π","–ú–∞—Å—Å–∏–≤"],c:2},
 {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å—Å–∏–≤?",o:["–û–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è","–ù–∞–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π","–§—É–Ω–∫—Ü–∏—è","–¢–∏–ø —Ç–µ–≥–∞"],c:1},
 {q:"–ö–∞–∫–æ–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑?",o:["for","while","do...while","foreach"],c:2},
 {q:"HTTP –∫–æ–¥ 404 –æ–∑–Ω–∞—á–∞–µ—Ç",o:["–£—Å–ø–µ—Ö","–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞","–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞","–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"],c:2},
 {q:"DOM ‚Äî —ç—Ç–æ",o:["–Ø–∑—ã–∫","–ú–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞","–ë—Ä–∞—É–∑–µ—Ä","–§—Ä–µ–π–º–≤–æ—Ä–∫"],c:1},
 {q:"–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞?",o:["push","pop","shift","unshift"],c:0},
 {q:"–ö–∞–∫–æ–π —Ç–µ–≥ —Å–∞–º—ã–π –æ–±—â–∏–π?",o:["<p>","<span>","<div>","<img>"],c:2},
 {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ API?",o:["–Ø–∑—ã–∫","–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è","–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö","–°–µ—Ä–≤–µ—Ä"],c:1},
 {q:"CSS —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞",o:["background","color","font-size","border"],c:1},
 {q:"JS –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è",o:["–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ","–í –±—Ä–∞—É–∑–µ—Ä–µ","–í HTML","–í CSS"],c:1}
],

hist:[
 {q:"–í –∫–∞–∫–æ–º –≥–æ–¥—É –Ω–∞—á–∞–ª–∞—Å—å –í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞?",o:["1939","1940","1941","1945"],c:0},
 {q:"–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –†–æ—Å—Å–∏–∏?",o:["–ü—É—Ç–∏–Ω","–ì–æ—Ä–±–∞—á—ë–≤","–ï–ª—å—Ü–∏–Ω","–ú–µ–¥–≤–µ–¥–µ–≤"],c:2},
 {q:"–°—Ç–æ–ª–∏—Ü–∞ –î—Ä–µ–≤–Ω–µ–π –†—É—Å–∏",o:["–ú–æ—Å–∫–≤–∞","–ù–æ–≤–≥–æ—Ä–æ–¥","–ö–∏–µ–≤","–í–ª–∞–¥–∏–º–∏—Ä"],c:2},
 {q:"–û—Ç–º–µ–Ω–∞ –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–≥–æ –ø—Ä–∞–≤–∞ –≤ –†–æ—Å—Å–∏–∏",o:["1812","1861","1905","1917"],c:1},
 {q:"–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –†–æ—Å—Å–∏–∏?",o:["–ò–≤–∞–Ω IV","–ü—ë—Ç—Ä I","–ê–ª–µ–∫—Å–∞–Ω–¥—Ä I","–ù–∏–∫–æ–ª–∞–π II"],c:1},
 {q:"–í –∫–∞–∫–æ–º –≥–æ–¥—É —Ä–∞—Å–ø–∞–ª—Å—è –°–°–°–†?",o:["1985","1989","1991","1995"],c:2},
 {q:"–ö—Ç–æ –æ—Ç–∫—Ä—ã–ª –ê–º–µ—Ä–∏–∫—É?",o:["–ú–∞–≥–µ–ª–ª–∞–Ω","–ö–æ–ª—É–º–±","–ö—É–∫","–í–∞—Å–∫–æ –¥–∞ –ì–∞–º–∞"],c:1},
 {q:"–ù–∞—á–∞–ª–æ –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã",o:["1939","1940","1941","1942"],c:2},
 {q:"–ö–∞–∫–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –±—ã–ª–æ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º –°–°–°–† –≤–æ –í–û–í?",o:["–°–®–ê","–§—Ä–∞–Ω—Ü–∏—è","–ì–µ—Ä–º–∞–Ω–∏—è","–Ø–ø–æ–Ω–∏—è"],c:2},
 {q:"–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è –Ω–∞—á–∞–ª–∞—Å—å –≤",o:["1689","1789","1812","1848"],c:1},
 {q:"–ö—Ç–æ –ø—Ä–∞–≤–∏–ª –†–æ—Å—Å–∏–µ–π –ø–æ—Å–ª–µ –ü–µ—Ç—Ä–∞ I?",o:["–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ I","–ï–ª–∏–∑–∞–≤–µ—Ç–∞","–ê–Ω–Ω–∞","–ê–ª–µ–∫—Å–∞–Ω–¥—Ä I"],c:0},
 {q:"–°—Ç–æ–ª–∏—Ü–∞ –†–∏–º—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏",o:["–ê—Ñ–∏–Ω—ã","–†–∏–º","–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–ø–æ–ª—å","–ü–∞—Ä–∏–∂"],c:1},
 {q:"–ü—Ä–∏—á–∏–Ω–∞ –ü–µ—Ä–≤–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã",o:["–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å","–£–±–∏–π—Å—Ç–≤–æ —ç—Ä—Ü–≥–µ—Ä—Ü–æ–≥–∞","–†–µ–≤–æ–ª—é—Ü–∏—è","–ö–æ–ª–æ–Ω–∏–∞–ª–∏–∑–º"],c:1},
 {q:"–ö—Ä–µ—â–µ–Ω–∏–µ –†—É—Å–∏",o:["862","988","1015","1147"],c:1},
 {q:"–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–π–Ω–∞ –Ω–∞—á–∞–ª–∞—Å—å –ø–æ—Å–ª–µ",o:["–í–û–í","–ü–ú–í","–†–µ–≤–æ–ª—é—Ü–∏–∏","–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏"],c:0}
],

chem:[
 {q:"H‚ÇÇO ‚Äî —ç—Ç–æ",o:["–ö–∏—Å–ª–æ—Ç–∞","–©—ë–ª–æ—á—å","–í–æ–¥–∞","–°–æ–ª—å"],c:2},
 {q:"NaCl ‚Äî —ç—Ç–æ",o:["–°–∞—Ö–∞—Ä","–°–æ–ª—å","–ö–∏—Å–ª–æ—Ç–∞","–ì–∞–∑"],c:1},
 {q:"pH –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã",o:["0","5","7","14"],c:2},
 {q:"–°–∞–º—ã–π –ª—ë–≥–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç",o:["–ì–µ–ª–∏–π","–í–æ–¥–æ—Ä–æ–¥","–ö–∏—Å–ª–æ—Ä–æ–¥","–ê–∑–æ—Ç"],c:1},
 {q:"CO‚ÇÇ ‚Äî —ç—Ç–æ",o:["–ö–∏—Å–ª–æ—Ä–æ–¥","–£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑","–í–æ–¥–æ—Ä–æ–¥","–ê–∑–æ—Ç"],c:1},
 {q:"–û–∫–∏—Å–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ",o:["–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–∏—Å–ª–æ—Ä–æ–¥–∞","–û—Ç–¥–∞—á–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–æ–≤","–†–∞—Å—Ç–≤–æ—Ä–µ–Ω–∏–µ","–ù–∞–≥—Ä–µ–≤–∞–Ω–∏–µ"],c:1},
 {q:"Fe ‚Äî —ç—Ç–æ",o:["–ú–µ–¥—å","–ñ–µ–ª–µ–∑–æ","–°–µ—Ä–µ–±—Ä–æ","–ó–æ–ª–æ—Ç–æ"],c:1},
 {q:"–©—ë–ª–æ—á–∏ ‚Äî —ç—Ç–æ",o:["–°–æ–ª–∏","–û—Å–Ω–æ–≤–∞–Ω–∏—è","–ö–∏—Å–ª–æ—Ç—ã","–û–∫—Å–∏–¥—ã"],c:1},
 {q:"–ö–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä",o:["–ó–∞–º–µ–¥–ª—è–µ—Ç —Ä–µ–∞–∫—Ü–∏—é","–£—Å–∫–æ—Ä—è–µ—Ç —Ä–µ–∞–∫—Ü–∏—é","–†–∞—Å—Ö–æ–¥—É–µ—Ç—Å—è","–ù–µ –≤–ª–∏—è–µ—Ç"],c:1},
 {q:"NaOH ‚Äî —ç—Ç–æ",o:["–ö–∏—Å–ª–æ—Ç–∞","–©—ë–ª–æ—á—å","–°–æ–ª—å","–ì–∞–∑"],c:1},
 {q:"–†–µ–∞–∫—Ü–∏—è —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–ø–ª–∞",o:["–≠–Ω–¥–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è","–≠–∫–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è","–û–±—Ä–∞—Ç–∏–º–∞—è","–ú–µ–¥–ª–µ–Ω–Ω–∞—è"],c:1},
 {q:"–í–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–∏—Å–ª–æ—Ä–æ–¥–∞",o:["1","2","3","4"],c:1},
 {q:"–ò–æ–Ω ‚Äî —ç—Ç–æ",o:["–ú–æ–ª–µ–∫—É–ª–∞","–ê—Ç–æ–º","–ó–∞—Ä—è–∂–µ–Ω–Ω–∞—è —á–∞—Å—Ç–∏—Ü–∞","–≠–ª–µ–º–µ–Ω—Ç"],c:2},
 {q:"HCl ‚Äî —ç—Ç–æ",o:["–°–æ–ª—å","–ö–∏—Å–ª–æ—Ç–∞","–©—ë–ª–æ—á—å","–û–∫—Å–∏–¥"],c:1},
 {q:"–ü–µ—Ä–∏–æ–¥ –≤ —Ç–∞–±–ª–∏—Ü–µ –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞ ‚Äî —ç—Ç–æ",o:["–í–µ—Ä—Ç–∏–∫–∞–ª—å","–ì—Ä—É–ø–ø–∞","–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å","–ë–ª–æ–∫"],c:2}
]
};

function goSubjects(){
  teamA.textContent = nameA.value || "–ö–æ–º–∞–Ω–¥–∞ A";
  teamB.textContent = nameB.value || "–ö–æ–º–∞–Ω–¥–∞ B";
  screenTeams.classList.add("hidden");
  screenSubjects.classList.remove("hidden");
}

function startGame(subject){
  originalQuestions = QUESTIONS[subject];
  poolA = shuffle([...originalQuestions]);
  poolB = shuffle([...originalQuestions]);
  indexA = 0;
  indexB = 0;
  screenSubjects.classList.add("hidden");
  screenGame.classList.remove("hidden");
  showQ("A");
  showQ("B");
}

function showQ(team){
  if(finished) return;

  let pool = team==="A" ? poolA : poolB;
  let index = team==="A" ? indexA : indexB;

  // üîÅ –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
  if(index >= pool.length){
    pool.splice(0, pool.length, ...shuffle([...originalQuestions]));
    if(team==="A") indexA = 0;
    else indexB = 0;
    index = 0;
  }

  let q = pool[index];
  let qBox = team==="A" ? qA : qB;
  let oBox = team==="A" ? oA : oB;

  qBox.textContent = q.q;
  oBox.innerHTML = "";

  q.o.forEach((txt,i)=>{
    let btn = document.createElement("button");
    btn.textContent = txt;
    btn.onclick = ()=>answer(team,i,q);
    oBox.appendChild(btn);
  });
}

function answer(team,choice,q){
  if(finished) return;

  let oBox = team==="A" ? oA : oB;
  oBox.children[q.c].classList.add("correct");
  if(choice !== q.c) oBox.children[choice].classList.add("wrong");

  setTimeout(()=>{
    if(choice === q.c){
      if(team==="A" && lvlA < MAX_LEVEL){
        lvlA++;
        barA.style.width = lvlA / MAX_LEVEL * 100 + "%";
        if(lvlA === MAX_LEVEL) return finish(teamA.textContent);
      }
      if(team==="B" && lvlB < MAX_LEVEL){
        lvlB++;
        barB.style.width = lvlB / MAX_LEVEL * 100 + "%";
        if(lvlB === MAX_LEVEL) return finish(teamB.textContent);
      }
    }

    if(team==="A"){ indexA++; showQ("A"); }
    else{ indexB++; showQ("B"); }

  }, 500);
}

function finish(winner){
  finished = true;
  winnerText.textContent = `üèÜ –ü–æ–±–µ–¥–∏–ª–∞ –∫–æ–º–∞–Ω–¥–∞ ${winner}`;
  win.classList.remove("hidden");
}